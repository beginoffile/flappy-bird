(()=>{"use strict";var e=document.getElementById("game-canvas"),t=e.getContext("2d"),n=document.getElementById("title-game"),d=document.getElementById("end-menu"),s=document.getElementById("restart-button"),a=document.getElementById("score-display"),i=document.getElementById("game-container"),o=new Image;o.src="./assets/images/flappy_dunk.png";var c=document.getElementById("idsound"),l=50,m=125,r=50,u=50,g=0,y=.1,p=400,h=e.height-200,I=!1,E=document.getElementById("score-display"),B=0,L=0,b=!1,f=!1;function k(){v("videogame-death-sound-43894.mp3"),document.getElementById("end-menu").style.display="block",i.classList.add("backdrop-blur"),document.getElementById("end-score").innerHTML=B,L<B&&(L=B),document.getElementById("best-score").innerHTML=L}function v(e){c.src="./assets/sounds/".concat(e),c.play()}function M(){var n,d,s,a,i,c,f,H,T,R;(t.clearRect(0,0,e.clientWidth,e.height),t.drawImage(o,r,u),t.fillStyle="#333",t.fillRect(p,-100,l,h),t.fillRect(p,h+m,l,e.height-h),n=r,d=u,s=40,a=30,i=p,c=h-m+30,f=l,H=p,T=h+m+30,R=l,e.height,n+s>i&&d+i+f&&d<c||n+s>H&&n<H+R&&d+a>T||u<0||u+30>e.height)?k():((p-=1.5)<-50&&(p=400,h=Math.random()*(e.height-m)+l),u+=g+=y,r>p+l&&(u<h+m||u+30>h+m)&&!b&&(B++,E.innerHTML=B,b=!0,B>L&&!I&&L>0?(v("winfantasia-6912.mp3"),I=!0):v("short-success-sound-glockenspiel-treasure-video-game-6346.mp3")),r<p+l&&(b=!1),requestAnimationFrame(M))}n.innerHTML="Press to Start...",s.innerHTML="Start",a.style.display="none",document.body.onkeyup=function(e){"Space"==e.code&&(g=-5)},s.addEventListener("click",(function(){v("game-start-6104.mp3"),f?(document.getElementById("end-menu").style.display="none",i.classList.remove("backdrop-blur"),r=50,u=50,g=0,y=.1,p=400,h=e.height-200,B=0,E.innerHTML=B,I=!1,M()):(f=!0,e.style.display="block",d.style.display="none",n.innerHTML="Game-Over!",s.innerHTML="Restart",a.style.display="block",M())}))})();